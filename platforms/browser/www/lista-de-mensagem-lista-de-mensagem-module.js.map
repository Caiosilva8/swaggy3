{"version":3,"sources":["webpack:///./src/app/lista-de-mensagem/lista-de-mensagem.module.ts","webpack:///./src/app/lista-de-mensagem/lista-de-mensagem.page.html","webpack:///./src/app/lista-de-mensagem/lista-de-mensagem.page.scss","webpack:///./src/app/lista-de-mensagem/lista-de-mensagem.page.ts"],"names":[],"mappings":"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","file":"lista-de-mensagem-lista-de-mensagem-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListaDeMensagemPage } from './lista-de-mensagem.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListaDeMensagemPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ListaDeMensagemPage]\r\n})\r\nexport class ListaDeMensagemPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>ListaDeMensagens</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-card *ngFor=\\\"let mensagem of listaDeMensagens\\\">\\r\\n    <ion-card-header>\\r\\n      <ion-card-title>{{mensagem.titulo}}</ion-card-title>\\r\\n    <ion-card-subtitle>{{mensagem.texto}}</ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n\\r\\n    <ion-card-content>\\r\\n      {{mensagem.data}}\\r\\n    </ion-card-content>\\r\\n\\r\\n    <ion-icon name=\\\"share-alt\\\" size=\\\"large\\\" (click)=\\\"viewMensagem(mensagem)\\\"></ion-icon>  \\r\\n    <ion-icon name=\\\"trash\\\" size=\\\"large\\\" (click)=\\\"remove(mensagem)\\\"></ion-icon>\\r\\n\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3RhLWRlLW1lbnNhZ2VtL2xpc3RhLWRlLW1lbnNhZ2VtLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport * as firebase from 'firebase';\r\nimport { Mensagem } from '../model/mensagem';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-lista-de-mensagem',\r\n  templateUrl: './lista-de-mensagem.page.html',\r\n  styleUrls: ['./lista-de-mensagem.page.scss'],\r\n})\r\nexport class ListaDeMensagemPage implements OnInit {\r\n\r\n  listaDeMensagens : Mensagem[] = [];\r\n  firestore = firebase.firestore();\r\n  settings = {timestampsInSnapshopts: true};\r\n\r\n  constructor(public router : Router,\r\n              public loadingController: LoadingController) {\r\n    }\r\n\r\n  ngOnInit() {\r\n    this.getList();\r\n  }\r\n\r\n  viewMensagem(obj : Mensagem){\r\n    this.router.navigate(['/mensagem-view', {'mensagem' : obj.id}]);\r\n  }\r\n\r\n  getList(){\r\n    this.loading();\r\n    var ref = firebase.firestore().collection(\"mensagem\");\r\n    ref.get().then(query=>{\r\n      query.forEach(doc=>{\r\n        let m = new Mensagem();\r\n        m.setDados(doc.data());\r\n        m.id = doc.id;\r\n        this.listaDeMensagens.push(m);\r\n      });\r\n      this.loadingController.dismiss();\r\n    });\r\n  };\r\n\r\n  remove(obj : Mensagem){\r\n    var ref = firebase.firestore().collection(\"mensagem\");\r\n    ref.doc(obj.id).delete()\r\n    .then(()=>{\r\n      this.listaDeMensagens = [];\r\n      this.getList();\r\n    }).catch(()=>{\r\n      console.log('Erro ao Atualizar');\r\n    })\r\n  }\r\n\r\n  async loading() {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Carregando',\r\n      duration: 2000\r\n    });\r\n    await loading.present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}